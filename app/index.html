<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Agentic Transactions — Control Hub</title>
    <style>
      :root {
        --bg: radial-gradient(circle at 20% -10%, rgba(79, 70, 229, 0.45), transparent 55%),
          radial-gradient(circle at 110% 20%, rgba(14, 165, 233, 0.45), transparent 60%),
          linear-gradient(135deg, #05010b, #060316 55%, #030111);
        --card: rgba(15, 16, 31, 0.76);
        --ink: #eef1ff;
        --muted: rgba(226, 232, 255, 0.58);
        --accent: #60a5fa;
        --accent-strong: #7dd3fc;
        --border: rgba(148, 163, 234, 0.22);
        --glow: 0 24px 60px rgba(96, 165, 250, 0.18);
        --glass: backdrop-filter: blur(24px);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        color: var(--ink);
        background: var(--bg);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      header {
        position: sticky;
        top: 0;
        z-index: 20;
        background: rgba(6, 8, 24, 0.8);
        border-bottom: 1px solid rgba(148, 163, 234, 0.18);
        backdrop-filter: blur(18px);
        padding: 18px 20px;
        display: flex;
        flex-wrap: wrap;
        gap: 18px;
        align-items: center;
      }

      header h1 {
        margin: 0;
        font-size: 26px;
        font-weight: 700;
        letter-spacing: 0.04em;
        display: flex;
        align-items: center;
        gap: 12px;
      }

      header h1 span {
        font-size: 12px;
        font-weight: 500;
        color: var(--muted);
        text-transform: uppercase;
        letter-spacing: 0.2em;
      }

      .nav-toggle {
        margin-left: auto;
        background: rgba(15, 23, 42, 0.65);
        border: 1px solid rgba(148, 163, 234, 0.3);
        border-radius: 12px;
        width: 44px;
        height: 44px;
        display: inline-flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 6px;
        cursor: pointer;
        transition: border-color 0.2s ease, transform 0.2s ease;
      }

      .nav-toggle span {
        width: 20px;
        height: 2px;
        background: rgba(226, 232, 255, 0.85);
        border-radius: 999px;
        transition: transform 0.2s ease;
      }

      .nav-toggle:hover {
        border-color: rgba(125, 211, 252, 0.6);
        transform: translateY(-1px);
      }

      .nav-panel {
        position: fixed;
        inset: 0;
        background: rgba(5, 7, 24, 0.82);
        backdrop-filter: blur(20px);
        display: flex;
        align-items: flex-start;
        justify-content: flex-end;
        padding: 28px;
        z-index: 40;
      }

      .nav-panel.hidden {
        display: none;
      }

      .nav-panel-content {
        width: min(320px, 85vw);
        background: rgba(11, 14, 32, 0.95);
        border: 1px solid rgba(148, 163, 234, 0.28);
        border-radius: 20px;
        padding: 22px;
        display: flex;
        flex-direction: column;
        gap: 22px;
        box-shadow: 0 35px 70px rgba(15, 23, 42, 0.5);
      }

      .nav-panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: var(--muted);
      }

      .nav-close {
        background: transparent;
        border: none;
        color: rgba(226, 232, 255, 0.75);
        font-size: 26px;
        cursor: pointer;
      }

      .nav-panel .tabs {
        flex-direction: column;
        gap: 10px;
        overflow: visible;
      }

      .nav-panel .tab {
        width: 100%;
        text-align: left;
        border-radius: 14px;
      }

      body.nav-open {
        overflow: hidden;
      }

      main {
        width: min(1280px, 92vw);
        margin: 32px auto 80px;
        display: flex;
        flex-direction: column;
        gap: 28px;
      }

      .tabs {
        display: flex;
        overflow-x: auto;
        gap: 12px;
        padding-bottom: 4px;
      }

      .tab {
        padding: 12px 18px;
        border-radius: 999px;
        border: 1px solid var(--border);
        background: rgba(12, 14, 34, 0.55);
        color: var(--muted);
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 14px;
        letter-spacing: 0.04em;
      }

      .tab:hover,
      .tab:focus-visible {
        color: var(--ink);
        border-color: rgba(96, 165, 250, 0.6);
        outline: none;
      }

      .tab.active {
        background: linear-gradient(135deg, rgba(96, 165, 250, 0.22), rgba(56, 189, 248, 0.2));
        color: var(--ink);
        border-color: rgba(125, 211, 252, 0.4);
        box-shadow: 0 14px 40px rgba(96, 165, 250, 0.22);
      }

      section {
        display: none;
      }

      section.active {
        display: block;
      }

      .grid {
        display: grid;
        gap: 22px;
      }

      .grid.two {
        grid-template-columns: minmax(0, 7fr) minmax(0, 5fr);
      }

      .grid.three {
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      }

      .card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 22px;
        padding: 22px 24px;
        box-shadow: var(--glow);
        backdrop-filter: blur(24px);
      }

      .card h2,
      .card h3,
      .card h4 {
        margin: 0 0 12px;
        font-weight: 600;
        letter-spacing: 0.05em;
      }

      p {
        margin: 0;
        color: var(--muted);
        line-height: 1.6;
      }

      .status-bar {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin: 18px 0 10px;
      }

      .status-pill {
        display: inline-flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 6px;
        padding: 8px 14px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.08);
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 0.06em;
      }

      .status-pill.on {
        background: linear-gradient(135deg, rgba(34, 197, 94, 0.25), rgba(74, 222, 128, 0.22));
        color: #86efac;
      }

      .status-pill.off {
        background: linear-gradient(135deg, rgba(239, 68, 68, 0.18), rgba(248, 113, 113, 0.15));
        color: #fca5a5;
      }

      .status-pill strong {
        font-size: 12px;
        letter-spacing: 0.08em;
      }

      .status-pill span {
        font-size: 11px;
        color: rgba(226, 232, 255, 0.75);
      }

      .control-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin-top: 18px;
      }

      button,
      .link-button {
        font: inherit;
        border-radius: 14px;
        padding: 10px 18px;
        border: 1px solid rgba(148, 163, 234, 0.28);
        background: rgba(15, 23, 42, 0.65);
        color: var(--ink);
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.2s ease, border-color 0.2s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      button:hover,
      .link-button:hover {
        transform: translateY(-1px);
        border-color: rgba(125, 211, 252, 0.6);
        box-shadow: var(--glow);
      }

      .primary {
        background: linear-gradient(135deg, rgba(96, 165, 250, 0.85), rgba(56, 189, 248, 0.85));
        border: none;
        color: #040615;
        font-weight: 600;
      }

      .field {
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      .field label {
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: rgba(226, 232, 255, 0.65);
      }

      input,
      select,
      textarea {
        font: inherit;
        padding: 11px 14px;
        border-radius: 14px;
        border: 1px solid rgba(148, 163, 234, 0.24);
        background: rgba(6, 10, 30, 0.65);
        color: var(--ink);
      }

      textarea {
        min-height: 90px;
        resize: vertical;
      }

      .hint {
        font-size: 12px;
        color: var(--muted);
      }

      .network-grid {
        display: grid;
        gap: 12px;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        margin-top: 10px;
      }

      .metric {
        display: flex;
        flex-direction: column;
        gap: 6px;
        padding: 18px;
        border-radius: 18px;
        background: rgba(15, 18, 36, 0.8);
        border: 1px solid rgba(148, 163, 234, 0.24);
      }

      .metric span {
        color: var(--muted);
        font-size: 13px;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }

      .metric b {
        font-size: 22px;
        font-weight: 600;
        color: var(--ink);
      }

      .choice {
        position: relative;
        border-radius: 16px;
        border: 1px solid rgba(148, 163, 234, 0.22);
        background: rgba(11, 15, 32, 0.65);
        padding: 14px;
        cursor: pointer;
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      .choice input {
        position: absolute;
        inset: 0;
        opacity: 0;
        cursor: pointer;
      }

      .choice strong {
        font-size: 15px;
      }

      .choice small {
        color: var(--muted);
        font-size: 12px;
      }

      .choice input:checked + .content {
        border-left: 3px solid rgba(96, 165, 250, 0.7);
      }

      .choice:hover {
        border-color: rgba(125, 211, 252, 0.45);
        box-shadow: var(--glow);
      }

      .timeline {
        display: flex;
        flex-direction: column;
        gap: 14px;
      }

      .timeline details {
        border-radius: 18px;
        border: 1px solid rgba(148, 163, 234, 0.18);
        background: rgba(11, 16, 32, 0.7);
        overflow: hidden;
      }

      .timeline summary {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 18px;
        cursor: pointer;
        font-size: 14px;
      }

      .timeline summary span {
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .pill {
        border-radius: 999px;
        padding: 4px 10px;
        font-size: 12px;
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }

      .pill.x402 {
        background: rgba(56, 189, 248, 0.2);
        color: #7dd3fc;
      }

      .pill.visa {
        background: rgba(129, 140, 248, 0.28);
        color: #c7d2fe;
      }

      .pill.status {
        background: rgba(255, 255, 255, 0.12);
        color: var(--muted);
      }

      .modal-backdrop {
        position: fixed;
        inset: 0;
        background: rgba(5, 7, 24, 0.82);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 50;
        backdrop-filter: blur(16px);
      }

      .modal {
        width: min(520px, 94vw);
        background: rgba(10, 13, 32, 0.92);
        border-radius: 22px;
        padding: 26px;
        border: 1px solid rgba(148, 163, 234, 0.28);
        box-shadow: 0 40px 80px rgba(15, 23, 42, 0.45);
      }

      .modal h3 {
        margin: 0 0 12px;
      }

      .modal-actions {
        display: flex;
        justify-content: flex-end;
        gap: 12px;
        margin-top: 18px;
      }

      .hidden {
        display: none !important;
      }

      .error {
        color: #fca5a5;
      }

      ul {
        color: var(--muted);
      }

      @media (max-width: 960px) {
        .grid.two {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Agentic Transactions <span>2026 Control Surface</span></h1>
      <button class="nav-toggle" data-action="toggle-nav" aria-expanded="false" aria-controls="nav_panel" aria-label="Toggle navigation">
        <span></span><span></span><span></span>
      </button>
    </header>
    <div id="nav_panel" class="nav-panel hidden" role="navigation">
      <div class="nav-panel-content">
        <div class="nav-panel-header">
          <span>Navigation</span>
          <button class="nav-close" data-action="toggle-nav" aria-label="Close navigation">×</button>
        </div>
        <div class="tabs" role="tablist">
          <div class="tab active" data-tab="control" role="tab" tabindex="0">Control</div>
          <div class="tab" data-tab="payments" role="tab" tabindex="0">Payments</div>
          <div class="tab" data-tab="activity" role="tab" tabindex="0">Activity</div>
          <div class="tab" data-tab="mandates" role="tab" tabindex="0">Mandates</div>
          <div class="tab" data-tab="operations" role="tab" tabindex="0">Operations</div>
          <div class="tab" data-tab="analytics" role="tab" tabindex="0">Analytics</div>
          <div class="tab" data-tab="inbound" role="tab" tabindex="0">Inbound</div>
          <div class="tab" data-tab="logs" role="tab" tabindex="0">Live Logs</div>
          <div class="tab" data-tab="aws" role="tab" tabindex="0">AWS Deploy</div>
        </div>
      </div>
    </div>
    <main>
      <section id="control" class="active">
        <div class="grid two">
          <div class="card">
            <h2>Control Center</h2>
            <p>
              Real-time oversight across agentic payments. Connect a wallet, configure your facilitator, and orchestrate the loop from a single panel.
            </p>
            <div class="status-bar">
              <span class="status-pill off" id="loop_status" data-label="Loop"></span>
              <span class="status-pill off" id="coinbase_status" data-label="Coinbase Facilitator"></span>
              <span class="status-pill off" id="wallet_status" data-label="Wallet"></span>
              <span class="status-pill off" id="x402" data-label="X402 Rail"></span>
              <span class="status-pill off" id="visa_ai" data-label="Visa Toolkit"></span>
              <span class="status-pill off" id="dryrun" data-label="Sandbox"></span>
            </div>
            <div class="grid three" style="margin-top:18px">
              <div class="field">
                <label for="loop_enabled">Agent Loop</label>
                <input type="checkbox" id="loop_enabled">
                <span class="hint">Keeps synthetic, diagnostic, and UI smoke routines alive.</span>
              </div>
              <div class="field">
                <label for="sandbox_mode">Sandbox Mode</label>
                <input type="checkbox" id="sandbox_mode">
                <span class="hint">When on, card and crypto flows stay in simulation.</span>
              </div>
              <div class="field">
                <label for="synthetic_agents">Synthetic Agents</label>
                <input type="checkbox" id="synthetic_agents">
                <span class="hint">Generates background load to train analytics + alerting.</span>
              </div>
              <div class="field">
                <label for="synthetic_rate">Synthetic Rate</label>
                <input id="synthetic_rate" type="number" min="1" value="10">
                <span class="hint">Transactions per minute when synthetic agents are active.</span>
              </div>
            </div>
            <div class="control-actions">
              <button type="button" data-action="save-toggles">Save Toggles</button>
              <button type="button" class="primary" data-action="run-diagnostics">Run Diagnostics</button>
              <button type="button" data-action="refresh-analytics">Refresh Analytics</button>
              <button type="button" data-action="connect-wallet">Connect Wallet</button>
              <button type="button" data-action="open-x402-modal">Configure Coinbase</button>
            </div>
            <pre id="diag" style="margin-top:16px">No diagnostic run yet.</pre>
          </div>
          <div class="card">
            <h3>Licensing & Wallet Notes</h3>
            <p class="hint" style="margin-bottom:8px">
              Toggle <code>REQUIRE_LICENSE=true</code> in your environment to enforce key rotation.
            </p>
            <input id="license_key" placeholder="lic_..." style="width:100%; margin-bottom:10px">
            <button type="button" data-action="rotate-license">Rotate License</button>
            <p style="margin-top:18px">
              Connecting a wallet enables one-click agent payments and surfaces the active address across dashboards.
              We support EIP-1193 providers (Coinbase Wallet, MetaMask, etc.).
            </p>
            <p style="margin-top:14px">
              Need programmatic control? Use <code>PUT /api/admin/toggles</code> with the same payload this panel sends.
            </p>
          </div>
        </div>
      </section>

      <section id="payments">
        <div class="grid two">
          <div class="card">
            <h2>Initiate Payment</h2>
            <p>
              Mandate signing, network attestations, and rail orchestration handled automatically. Choose digital assets or card acceptance below.
            </p>
            <div class="grid two" style="margin-top:20px">
              <label class="field">
                <label>Amount (USD)</label>
                <input id="amt" type="number" step="0.01" min="0.01" placeholder="200.00" value="50.00">
                <span class="hint">Converted to minor units before submission.</span>
              </label>
              <label class="field">
                <label>Destination Handle</label>
                <input id="to" value="cb:mlr" placeholder="wallet:handle or card token">
                <span class="hint">Supports Coinbase handles, card tokens, and DID references.</span>
              </label>
            </div>
            <div class="field" style="margin-top:14px">
              <label>Digital Assets</label>
              <div class="network-grid">
                <label class="choice">
                  <input type="radio" name="asset" value="USDC" checked>
                  <div class="content">
                    <strong>USDC · Base</strong>
                    <small>Coinbase X402 · compliant stablecoin with instant attestations.</small>
                  </div>
                </label>
                <label class="choice">
                  <input type="radio" name="asset" value="USDT">
                  <div class="content">
                    <strong>USDT · Base</strong>
                    <small>Tether support through X402 facilitator (EIP-3009 compatible).</small>
                  </div>
                </label>
              </div>
            </div>
            <div class="field" style="margin-top:18px">
              <label>Payment Network</label>
              <div class="network-grid">
                <label class="choice">
                  <input type="radio" name="rail" value="X402" checked>
                  <div class="content">
                    <strong>Coinbase X402</strong>
                    <small>Programmatic crypto checkout, Base / Base Sepolia, facilitator-backed.</small>
                  </div>
                </label>
                <label class="choice">
                  <input type="radio" name="rail" value="CARD">
                  <div class="content">
                    <strong>Visa Agent Toolkit</strong>
                    <small>MCP Server Agent Acceptance: tokenized card flows with AI diagnostics.</small>
                  </div>
                </label>
              </div>
            </div>
            <label class="field" style="margin-top:18px">
              <label>Memo (optional)</label>
              <textarea id="memo" placeholder="Add context for reconciliation or downstream agents"></textarea>
            </label>
            <div class="control-actions" style="margin-top:20px">
              <button type="button" class="primary" data-action="send-transaction">Send Payment</button>
              <span class="hint">Mandate scope + Visa agent action are logged for audit automatically.</span>
            </div>
            <pre id="out" style="margin-top:18px">Awaiting submission.</pre>
          </div>
          <div class="card">
            <h3>Visa Agent Toolkit Overview</h3>
            <p>
              The MCP Server Agent Acceptance Toolkit automates 3DS, risk rules, and Cloudflare attestation before issuing a tokenized payment authorisation.
              Ideal for autonomous agents orchestrating retail or wage payouts.
            </p>
            <ul>
              <li>Card envelope building + on-behalf attestation</li>
              <li>Optional 3DS challenge hooks for high-risk flows</li>
              <li>Live status streaming back into the Control Center</li>
            </ul>
            <p>
              Learn more:
              <a class="link-button" href="https://corporate.visa.com/en/sites/visa-perspectives/innovation/visa-mcp-server-agent-acceptance-toolkit.html" target="_blank" rel="noreferrer">
                Visa MCP Toolkit
              </a>
              <a class="link-button" href="https://github.com/visaacceptance/agent-toolkit" target="_blank" rel="noreferrer">
                GitHub Repo
              </a>
            </p>
            <div style="margin-top:24px">
              <h4>Wallet Connectivity</h4>
              <p>
                Connected wallets can sign X402 headers directly from the UI. Agents can also pull the facilitator config through
                <code>GET /api/admin/x402-config</code> for headless payments.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section id="activity">
        <div class="card">
          <h2>Activity Timeline</h2>
          <p>Unified ledger across rails. Expand any event to inspect its payload and facilitator response.</p>
          <div class="grid two" style="margin-top:16px">
            <label class="field">
              <label>Rail</label>
              <select id="activity_filter_rail">
                <option value="ALL">All Rails</option>
                <option value="X402">X402</option>
                <option value="CARD">Visa Agent</option>
              </select>
            </label>
            <label class="field">
              <label>Status</label>
              <select id="activity_filter_status">
                <option value="ALL">Any Status</option>
                <option value="CONFIRMED">Confirmed</option>
                <option value="SIMULATED">Simulated</option>
                <option value="PENDING">Pending</option>
                <option value="FAILED">Failed</option>
                <option value="ENVELOPED">Enveloped</option>
              </select>
            </label>
          </div>
          <div id="receipts" class="timeline" style="margin-top:18px"></div>
        </div>
      </section>

      <section id="mandates">
        <div class="grid two">
          <div class="card">
            <h2>Mandate Templates</h2>
            <p>Templates issue stateless permissions for agents and synthetic flows. Mandates are persisted with DID references.</p>
            <div class="grid two" style="margin-top:18px">
              <label class="field">
                <label>Issuer DID</label>
                <input id="m_issuer" value="did:example:mlr">
              </label>
              <label class="field">
                <label>Subject DID</label>
                <input id="m_subject" value="did:example:recipient">
              </label>
              <label class="field">
                <label>Scope</label>
                <select id="m_scope">
                  <option value="TIP">Tips</option>
                  <option value="PURCHASE">Purchases</option>
                  <option value="SUBSCRIPTION">Subscriptions</option>
                </select>
              </label>
              <label class="field">
                <label>Max Amount (minor)</label>
                <input id="m_max" type="number" min="1" value="10000000">
              </label>
              <label class="field">
                <label>Currency</label>
                <input id="m_currency" value="USDC">
              </label>
            </div>
            <button type="button" style="margin-top:18px" data-action="issue-mandate">Issue Mandate</button>
          </div>
          <div class="card">
            <h3>Issued Mandates</h3>
            <p>Manage active mandates. Delete to revoke authorization instantly.</p>
            <div id="mandates" class="timeline" style="margin-top:18px"></div>
          </div>
        </div>
      </section>

      <section id="operations">
        <div class="grid two">
          <div class="card">
            <h2>Sandbox & Synthetic Agents</h2>
            <p>
              Sandbox mode routes all payments into simulated flows. Synthetic agents emit deterministic payloads to stress the pipeline.
            </p>
            <ul>
              <li>Loop heartbeats stream into Live Logs every minute.</li>
              <li>Payloads include <code>"demo": true</code> markers for easy filtering.</li>
              <li>Adjust rate to push analytics, alerts, and Visa agent decisioning.</li>
            </ul>
          </div>
          <div class="card">
            <h2>Diagnostics</h2>
            <p>
              Diagnostics execute a full end-to-end payment (mandate signing, attestation, rail execution) and store the resulting receipt.
              Trigger them after key rotations or facilitator updates.
            </p>
            <p class="hint" style="margin-top:12px">
              The most recent result is pinned in the Control Center diagnostic panel.
            </p>
          </div>
        </div>
        <div class="card" style="margin-top:22px">
          <h3>License</h3>
          <p>
            Licensing remains on the Control tab for quick compliance edits. Set <code>REQUIRE_LICENSE=true</code> and rotate via the Control Center.
          </p>
        </div>
      </section>

      <section id="analytics">
        <div class="grid two">
          <div class="card">
            <h2>Analytics</h2>
            <div class="grid two" style="margin-top:18px;">
              <label class="field">
                <label>Window (minutes)</label>
                <input id="win" type="number" value="60" min="5">
              </label>
              <button type="button" data-action="refresh-analytics" style="align-self:end;">Refresh</button>
              <a class="link-button" id="csv" href="/api/export/receipts.csv" download>Export CSV</a>
            </div>
            <div class="grid three" id="metrics" style="margin-top:18px"></div>
          </div>
          <div class="card">
            <h3>Breakdown</h3>
            <pre id="breakdown">{}</pre>
          </div>
        </div>
      </section>

      <section id="inbound">
        <div class="card">
          <h2>Inbound Events</h2>
          <button type="button" class="link-button" data-action="refresh-inbound">Refresh</button>
          <div id="inbounds" class="timeline" style="margin-top:18px"></div>
        </div>
      </section>

      <section id="logs">
        <div class="card">
          <h2>Live Logs</h2>
          <pre id="logbox" style="height:460px; overflow:auto;">Connecting...</pre>
        </div>
      </section>

      <section id="aws">
        <div class="grid two">
          <div class="card">
            <h2>AWS Deployment Profile</h2>
            <div class="grid two" style="margin-top:18px">
              <label class="field">
                <label>Region</label>
                <input id="region" placeholder="us-east-1">
              </label>
              <label class="field">
                <label>S3 Bucket</label>
                <input id="bucket" placeholder="agentic-transactions-assets">
              </label>
              <label class="field">
                <label>CloudFront Distribution</label>
                <input id="dist" placeholder="E123ABC456">
              </label>
              <label class="field">
                <label>Access Key ID</label>
                <input id="akid" placeholder="AKIA...">
              </label>
              <label class="field">
                <label>Secret Access Key</label>
                <input id="secret" type="password" placeholder="••••••">
              </label>
            </div>
            <div class="control-actions" style="margin-top:18px">
              <button type="button" data-action="save-aws">Save Config</button>
              <button type="button" data-action="simulate-aws">Simulate Deploy</button>
            </div>
          </div>
          <div class="card">
            <h3>Deployment Result</h3>
            <pre id="awsout">Awaiting action.</pre>
          </div>
        </div>
      </section>
    </main>

    <div id="x402_modal_backdrop" class="modal-backdrop hidden">
      <div class="modal">
        <form id="x402_form" novalidate>
          <h3>Coinbase Facilitator Credentials</h3>
          <p id="x402_notice" class="hint">
            Values are encrypted at rest. Re-enter keys to rotate.
          </p>
          <div class="grid two" style="margin-top:16px">
            <label class="field">
              <label>Facilitator URL</label>
              <input id="x402_facilitator" type="url" placeholder="https://x402.org/facilitator">
            </label>
            <label class="field">
              <label>Receiving Wallet Address</label>
              <input id="x402_wallet" placeholder="0xYourAddress">
            </label>
            <label class="field">
              <label>CDP API Key ID</label>
              <input id="x402_api_key_id" autocomplete="off" placeholder="Enter new key id">
            </label>
            <label class="field">
              <label>CDP API Key Secret</label>
              <input id="x402_api_key_secret" type="password" autocomplete="off" placeholder="Enter new secret">
            </label>
          </div>
          <div class="modal-actions">
            <button type="button" data-action="close-x402-modal">Cancel</button>
            <button type="submit" class="primary" data-action="submit-x402-config">Save Credentials</button>
          </div>
        </form>
      </div>
    </div>

    <script type="module" src="/dashboard.js"></script>
    <script src="/agentic-toggle.js"></script>
    <script src="/sdk.js"></script>
  </body>
</html>
